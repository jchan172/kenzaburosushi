
<div id="wrapper">
  <div id="scroller">

    <h1>Stellar.js</h1>
    <h2>Mobile Parallax Demo</h2>
    <p>Scroll down to see Stellar.js in action.</p>

    <section>
      <div class="pixel" data-stellar-ratio="1.1"></div>
      <div class="pixel" data-stellar-ratio="1.2"></div>
      <div class="pixel" data-stellar-ratio="1.3"></div>
      <div class="pixel" data-stellar-ratio="1.4"></div>
      <div class="pixel" data-stellar-ratio="1.5"></div>
      <div class="pixel" data-stellar-ratio="1.6"></div>
      <div class="pixel" data-stellar-ratio="1.7"></div>
      <div class="pixel" data-stellar-ratio="1.8"></div>
      <div class="pixel" data-stellar-ratio="1.9"></div>
      <div class="pixel" data-stellar-ratio="2.0"></div>
    </section>

  </div>
</div>

<%= javascript_include_tag 'jquery.stellar' %>
<%= javascript_include_tag 'iscroll.js' %>
<script>
  $(document).ready(function(){
      var ua = navigator.userAgent,
              isMobileWebkit = /WebKit/.test(ua) && /Mobile/.test(ua);

      if (isMobileWebkit) {
        $('html').addClass('mobile');
      }

      $(function(){
        var iScrollInstance;

        if (isMobileWebkit) {
          iScrollInstance = new iScroll('wrapper');

          $('#scroller').stellar({
            scrollProperty: 'transform',
            horizontalScrolling: false,
            verticalOffset: 150
          });
        } else {
          $.stellar({
            horizontalScrolling: false,
            verticalOffset: 150
          });
        }
      });

    });
</script>